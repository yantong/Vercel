(function(){"use strict";var e={2072:function(e,t,a){e.exports=a.p+"img/pc-light.dacb048e.svg"},2191:function(e,t,a){var n=a(5130),r=a(6768),o=a(144);const l={class:"header"},u={class:"content"},i=["src"],c=["src"],s=["src"];var p={__name:"header",props:{type:{type:String,default:"phone"}},emits:["typeChange"],setup(e,{emit:t}){const p=a(3204),g=a(9276),y=a(6580),h=a(3423),d=a(2795),f=a(2072),v=t,m=(0,o.KR)("light");function C(){m.value="light"===m.value?"dark":"light",document.documentElement.setAttribute("data-theme",m.value)}return(t,a)=>((0,r.uX)(),(0,r.CE)("div",l,[(0,r.Lk)("div",u,[(0,r.Lk)("span",{class:"type",onClick:a[0]||(a[0]=t=>v("typeChange","phone"===e.type?"pc":"phone"))},[(0,r.bo)((0,r.Lk)("img",{src:"light"!==m.value?(0,o.R1)(h):(0,o.R1)(y),alt:""},null,8,i),[[n.aG,"phone"===e.type]]),(0,r.bo)((0,r.Lk)("img",{src:"light"!==m.value?(0,o.R1)(f):(0,o.R1)(d),alt:""},null,8,c),[[n.aG,"pc"===e.type]])]),(0,r.Lk)("span",{class:"theme",onClick:C},[(0,r.Lk)("img",{src:"light"!==m.value?(0,o.R1)(g):(0,o.R1)(p),alt:""},null,8,s)])])]))}},g=a(1241);const y=(0,g.A)(p,[["__scopeId","data-v-6c1ee086"]]);var h=y,d=(a(8111),a(116),a(4232));const f={class:"types"},v={class:"content"},m={class:"catagorys",id:"catagorys"},C=["onClick"],b={class:"sub-catagorys"},w=["onClick"];var _={__name:"types",props:{type:{type:String,default:"phone"},selCategory:{type:Object,default:()=>({categoryName:"精选",categoryCode:"0"})},selCategorySub:{type:Object,default:()=>({name:"热门",code:"0"})}},emits:["categoryChange","categorySubChange"],setup(e,{emit:t}){const a=e,l=t,u=(0,o.KR)([]),i=(0,o.KR)([]),c=(0,o.KR)([]),s=[{name:"热门",code:"0"},{name:"最新",code:"1"},{name:"最热",code:"2"},{name:"发现",code:"3"}];async function p(){let e=await fetch("wallpaper/v1/config/queryConfig",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({config_key:"stsq_web_image_feature_config"})});u.value=await e.json()}async function g(){const e="手机壁纸",t=u.value.find((t=>t.featureName==e));let a=await fetch("wallpaper/v1/config/queryConfig",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({config_key:t.categoryConfigKey})});i.value=await a.json()}async function y(){const e="电脑壁纸",t=u.value.find((t=>t.featureName==e));let a=await fetch("wallpaper/v1/config/queryConfig",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({config_key:t.categoryConfigKey})});c.value=await a.json()}function h(e){return["精选","主题壁纸","高清壁纸","全面屏","平板壁纸","2K壁纸","4K壁纸","情侣"].includes(e.categoryName)}return(0,r.sV)((async()=>{await p(),await g(),await y(),l("categoryChange",c.value[0]),l("categorySubChange",s[0])})),(0,r.sV)((()=>{let e=document.getElementById("catagorys");e.addEventListener("wheel",(function(t){e.scrollLeft+=t.deltaY,t.preventDefault()}))})),(0,r.wB)((()=>a.type),(()=>{"phone"===a.type?l("categoryChange",i.value[0]):l("categoryChange",c.value[0]),l("categorySubChange",s[0]),catagorys.scrollLeft=0})),(t,a)=>((0,r.uX)(),(0,r.CE)("div",f,[(0,r.Lk)("div",v,[(0,r.Lk)("div",m,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)("phone"===e.type?i.value:c.value,(t=>((0,r.uX)(),(0,r.CE)("span",{key:t.categoryName,onClick:e=>l("categoryChange",t),class:(0,d.C4)(["item",{active:e.selCategory.categoryName===t.categoryName}])},(0,d.v_)(t.categoryName),11,C)))),128))]),(0,r.bo)((0,r.Lk)("div",b,[((0,r.uX)(),(0,r.CE)(r.FK,null,(0,r.pI)(s,(t=>(0,r.Lk)("span",{key:t.name,onClick:e=>l("categorySubChange",t),class:(0,d.C4)(["sub-item",{active:e.selCategorySub.name===t.name}])},(0,d.v_)(t.name),11,w))),64))],512),[[n.aG,"phone"!==e.type||h(e.selCategory)]])])]))}};const k=(0,g.A)(_,[["__scopeId","data-v-063c88bd"]]);var E=k,S=(a(4114),a(2489),a(7588),0);function U(e){return K(O(T(e)))}function O(e){return R(X(j(e),8*e.length))}function K(e){for(var t,a=S?"0123456789ABCDEF":"0123456789abcdef",n="",r=0;r<e.length;r++)t=e.charCodeAt(r),n+=a.charAt(t>>>4&15)+a.charAt(15&t);return n}function T(e){var t,a,n="",r=-1;while(++r<e.length)t=e.charCodeAt(r),a=r+1<e.length?e.charCodeAt(r+1):0,55296<=t&&t<=56319&&56320<=a&&a<=57343&&(t=65536+((1023&t)<<10)+(1023&a),r++),t<=127?n+=String.fromCharCode(t):t<=2047?n+=String.fromCharCode(192|t>>>6&31,128|63&t):t<=65535?n+=String.fromCharCode(224|t>>>12&15,128|t>>>6&63,128|63&t):t<=2097151&&(n+=String.fromCharCode(240|t>>>18&7,128|t>>>12&63,128|t>>>6&63,128|63&t));return n}function j(e){for(var t=Array(e.length>>2),a=0;a<t.length;a++)t[a]=0;for(a=0;a<8*e.length;a+=8)t[a>>5]|=(255&e.charCodeAt(a/8))<<a%32;return t}function R(e){for(var t="",a=0;a<32*e.length;a+=8)t+=String.fromCharCode(e[a>>5]>>>a%32&255);return t}function X(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var a=1732584193,n=-271733879,r=-1732584194,o=271733878,l=0;l<e.length;l+=16){var u=a,i=n,c=r,s=o;a=A(a,n,r,o,e[l+0],7,-680876936),o=A(o,a,n,r,e[l+1],12,-389564586),r=A(r,o,a,n,e[l+2],17,606105819),n=A(n,r,o,a,e[l+3],22,-1044525330),a=A(a,n,r,o,e[l+4],7,-176418897),o=A(o,a,n,r,e[l+5],12,1200080426),r=A(r,o,a,n,e[l+6],17,-1473231341),n=A(n,r,o,a,e[l+7],22,-45705983),a=A(a,n,r,o,e[l+8],7,1770035416),o=A(o,a,n,r,e[l+9],12,-1958414417),r=A(r,o,a,n,e[l+10],17,-42063),n=A(n,r,o,a,e[l+11],22,-1990404162),a=A(a,n,r,o,e[l+12],7,1804603682),o=A(o,a,n,r,e[l+13],12,-40341101),r=A(r,o,a,n,e[l+14],17,-1502002290),n=A(n,r,o,a,e[l+15],22,1236535329),a=N(a,n,r,o,e[l+1],5,-165796510),o=N(o,a,n,r,e[l+6],9,-1069501632),r=N(r,o,a,n,e[l+11],14,643717713),n=N(n,r,o,a,e[l+0],20,-373897302),a=N(a,n,r,o,e[l+5],5,-701558691),o=N(o,a,n,r,e[l+10],9,38016083),r=N(r,o,a,n,e[l+15],14,-660478335),n=N(n,r,o,a,e[l+4],20,-405537848),a=N(a,n,r,o,e[l+9],5,568446438),o=N(o,a,n,r,e[l+14],9,-1019803690),r=N(r,o,a,n,e[l+3],14,-187363961),n=N(n,r,o,a,e[l+8],20,1163531501),a=N(a,n,r,o,e[l+13],5,-1444681467),o=N(o,a,n,r,e[l+2],9,-51403784),r=N(r,o,a,n,e[l+7],14,1735328473),n=N(n,r,o,a,e[l+12],20,-1926607734),a=x(a,n,r,o,e[l+5],4,-378558),o=x(o,a,n,r,e[l+8],11,-2022574463),r=x(r,o,a,n,e[l+11],16,1839030562),n=x(n,r,o,a,e[l+14],23,-35309556),a=x(a,n,r,o,e[l+1],4,-1530992060),o=x(o,a,n,r,e[l+4],11,1272893353),r=x(r,o,a,n,e[l+7],16,-155497632),n=x(n,r,o,a,e[l+10],23,-1094730640),a=x(a,n,r,o,e[l+13],4,681279174),o=x(o,a,n,r,e[l+0],11,-358537222),r=x(r,o,a,n,e[l+3],16,-722521979),n=x(n,r,o,a,e[l+6],23,76029189),a=x(a,n,r,o,e[l+9],4,-640364487),o=x(o,a,n,r,e[l+12],11,-421815835),r=x(r,o,a,n,e[l+15],16,530742520),n=x(n,r,o,a,e[l+2],23,-995338651),a=P(a,n,r,o,e[l+0],6,-198630844),o=P(o,a,n,r,e[l+7],10,1126891415),r=P(r,o,a,n,e[l+14],15,-1416354905),n=P(n,r,o,a,e[l+5],21,-57434055),a=P(a,n,r,o,e[l+12],6,1700485571),o=P(o,a,n,r,e[l+3],10,-1894986606),r=P(r,o,a,n,e[l+10],15,-1051523),n=P(n,r,o,a,e[l+1],21,-2054922799),a=P(a,n,r,o,e[l+8],6,1873313359),o=P(o,a,n,r,e[l+15],10,-30611744),r=P(r,o,a,n,e[l+6],15,-1560198380),n=P(n,r,o,a,e[l+13],21,1309151649),a=P(a,n,r,o,e[l+4],6,-145523070),o=P(o,a,n,r,e[l+11],10,-1120210379),r=P(r,o,a,n,e[l+2],15,718787259),n=P(n,r,o,a,e[l+9],21,-343485551),a=$(a,u),n=$(n,i),r=$(r,c),o=$(o,s)}return Array(a,n,r,o)}function L(e,t,a,n,r,o){return $(q($($(t,e),$(n,o)),r),a)}function A(e,t,a,n,r,o,l){return L(t&a|~t&n,e,t,r,o,l)}function N(e,t,a,n,r,o,l){return L(t&n|a&~n,e,t,r,o,l)}function x(e,t,a,n,r,o,l){return L(t^a^n,e,t,r,o,l)}function P(e,t,a,n,r,o,l){return L(a^(t|~n),e,t,r,o,l)}function $(e,t){var a=(65535&e)+(65535&t),n=(e>>16)+(t>>16)+(a>>16);return n<<16|65535&a}function q(e,t){return e<<t|e>>>32-t}const F={class:"imgs phoneWallpaper"},I={class:"content"},z=["src","onClick","onError"];var B={__name:"phoneWallpaper",props:{selCategory:{type:Object,default:()=>({categoryName:"精选",categoryCode:"0"})},selCategorySub:{type:Object,default:()=>({name:"热门",code:"0"})}},setup(e){const t=e,a=(0,o.KR)([]),n=(0,o.KR)([]),l=(0,o.KR)({}),u=(0,o.KR)(!1),i=(0,o.KR)(!1);let c=0,s=0;async function p(){i.value=!1,a.value=[],s=0,document.documentElement.scrollTop=0,await g()}async function g(){if(i.value)return;u.value=!0;let e=c=Math.random(),n=await y(),r=await n.json();if(s++,["主题壁纸","情侣"].includes(t.selCategory.categoryName)){let t=[];r.forEach((e=>{Object.keys(e).forEach((a=>{/^w\d+$/.test(a)&&e[a].thumbUrl&&t.push(e[a])}))})),c==e&&a.value.push(...t.filter((e=>!a.value.find((t=>t.thumbUrl==e.thumbUrl))))),i.value=!t.length}else c==e&&a.value.push(...(r||[]).filter((e=>!a.value.find((t=>t.thumbUrl==e.thumbUrl))))),i.value=!r?.length;h(),u.value=!1}function y(){let e=t.selCategory.categoryName;if(["精选","高清壁纸","全面屏","2K壁纸","4K壁纸"].includes(e)){let e={sort_type:t.selCategorySub.code,page:s};return e.size_type=t.selCategory.requestParams.sizeType,e.sign=U(`page=${s}&size_type=${e.size_type}&sort_type=${e.sort_type}&key=d9fd3ec394`).toUpperCase(),fetch("/wallpaper/v2/home/imageList",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}if(["主题壁纸","情侣"].includes(e)){let e=`/wallpaper/api/v1/association/list?association_type=${t.selCategory.requestParams.associationType}&page=${s}&sort_type=${t.selCategorySub.code}&tag_type=-1&page_size=15&min_width=0&max_width=999999&min_height=0&max_height=999999`;return fetch(e)}if(["平板壁纸"].includes(e)){let e={page:s,sort_type:t.selCategorySub.code,table_type:t.selCategory.requestParams.tableType};return e.sign=U(`page=${e.page}&sort_type=${e.sort_type}&table_type=${e.table_type}&key=d9fd3ec394`).toUpperCase(),fetch("/wallpaper/v2/search/commonList",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}{let e={page:s,category:t.selCategory.requestParams.category};return e.sign=U(`category=${e.category}&page=${e.page}&key=d9fd3ec394`).toUpperCase(),fetch("/wallpaper/v2/channel/queryByCategory",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}}function h(){let e=6,t=new Array(e).fill(0),r=new Array(e);for(let a=0;a<e;a++)r[a]=[];a.value.forEach((e=>{let a=e.height/e.width*100,n=0,o=t[0];t.forEach(((e,t)=>{e<o&&(o=e,n=t)})),t[n]+=a,r[n].push(e)})),n.value=r}function f(e,t){let a="http://img.hb.aicdn.com";return(t?e.largeUrl:e.thumbUrl).indexOf(a)>=0?(t?e.largeUrl:e.thumbUrl).replace(a,"https://hbimg.huaban.com"):t?e.largeUrl:e.thumbUrl}function v(e){window.open(e.largeUrl)}function m(){u.value||document.documentElement.scrollTop+window.innerHeight>=document.documentElement.scrollHeight-window.innerHeight/3&&g()}return(0,r.sV)((()=>{p()})),(0,r.sV)((()=>{window.addEventListener("scroll",m)})),(0,r.xo)((()=>{window.removeEventListener("scroll",m)})),(0,r.wB)((()=>t.selCategory),p),(0,r.wB)((()=>t.selCategorySub),p),(e,t)=>((0,r.uX)(),(0,r.CE)("div",F,[(0,r.Lk)("div",I,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.value,((e,t)=>((0,r.uX)(),(0,r.CE)("div",{key:t,class:"col",style:(0,d.Tr)({width:`calc(${100/(n.value.length+.5)}%)`})},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e,(e=>((0,r.uX)(),(0,r.CE)(r.FK,{key:e.thumbUrl},[l.value[e.thumbUrl]&&"retry"!==l.value[e.thumbUrl]?((0,r.uX)(),(0,r.CE)("div",{key:1,class:"error-img",style:(0,d.Tr)({"aspect-ratio":e.width/e.height,width:"100%"})},null,4)):((0,r.uX)(),(0,r.CE)("img",{key:0,alt:"",src:f(e,l.value[e.thumbUrl]),style:(0,d.Tr)({"aspect-ratio":e.width/e.height,width:"100%"}),onClick:t=>v(e),onError:t=>l.value[e.thumbUrl]=l.value[e.thumbUrl]?"fail":"retry"},null,44,z))],64)))),128))],4)))),128))])]))}};const W=(0,g.A)(B,[["__scopeId","data-v-62b78ae1"]]);var J=W;const H={class:"imgs pcWallpaper"},V={class:"content"},G=["src","onClick","onError"];var M={__name:"pcWallpaper",props:{selCategory:{type:Object,default:()=>({categoryName:"精选",categoryCode:"0"})},selCategorySub:{type:Object,default:()=>({name:"热门",code:"0"})}},setup(e){const t=e,a=(0,o.KR)([]),n=(0,o.KR)([]),l=(0,o.KR)({}),u=(0,o.KR)(!1),i=(0,o.KR)(!1);let c=0,s=0;async function p(){i.value=!1,a.value=[],s=0,document.documentElement.scrollTop=0,await g()}async function g(){if(i.value)return;u.value=!0;let e=c=Math.random(),n={sort_type:t.selCategorySub.code,page:s};void 0!==t.selCategory.requestParams.sizeType&&(n.size_type=t.selCategory.requestParams.sizeType),void 0!==t.selCategory.requestParams.searchWord&&(n.search_word=t.selCategory.requestParams.searchWord);let r=await fetch("/wallpaper/v1/search/pcScreen",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),o=await r.json();s++,c==e&&a.value.push(...o.filter((e=>!a.value.find((t=>t.thumbUrl==e.thumbUrl))))),i.value=!o.length,y(),u.value=!1}function y(){let e=4,t=new Array(e).fill(0),r=new Array(e);for(let a=0;a<e;a++)r[a]=[];a.value.forEach((e=>{let a=e.height/e.width*100,n=0,o=t[0];t.forEach(((e,t)=>{e<o&&(o=e,n=t)})),t[n]+=a,r[n].push(e)})),n.value=r}function h(e,t){let a="http://img.hb.aicdn.com";return(t?e.largeUrl:e.thumbUrl).indexOf(a)>=0?(t?e.largeUrl:e.thumbUrl).replace(a,"https://hbimg.huaban.com"):t?e.largeUrl:e.thumbUrl}function f(e){window.open(e.largeUrl)}function v(){u.value||document.documentElement.scrollTop+window.innerHeight>=document.documentElement.scrollHeight-window.innerHeight/3&&g()}return(0,r.sV)((()=>{p()})),(0,r.sV)((()=>{window.addEventListener("scroll",v)})),(0,r.xo)((()=>{window.removeEventListener("scroll",v)})),(0,r.wB)((()=>t.selCategory),p),(0,r.wB)((()=>t.selCategorySub),p),(e,t)=>((0,r.uX)(),(0,r.CE)("div",H,[(0,r.Lk)("div",V,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.value,((e,t)=>((0,r.uX)(),(0,r.CE)("div",{key:t,class:"col",style:(0,d.Tr)({width:`calc(${100/(n.value.length+.2)}%)`})},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e,(e=>((0,r.uX)(),(0,r.CE)(r.FK,{key:e.thumbUrl},[l.value[e.thumbUrl]&&"retry"!==l.value[e.thumbUrl]?((0,r.uX)(),(0,r.CE)("div",{key:1,class:"error-img",style:(0,d.Tr)({"aspect-ratio":e.width/e.height,width:"100%"})},null,4)):((0,r.uX)(),(0,r.CE)("img",{key:0,alt:"",src:h(e,l.value[e.thumbUrl]),style:(0,d.Tr)({"aspect-ratio":e.width/e.height,width:"100%"}),onClick:t=>f(e),onError:t=>l.value[e.thumbUrl]=l.value[e.thumbUrl]?"fail":"retry"},null,44,G))],64)))),128))],4)))),128))])]))}};const D=(0,g.A)(M,[["__scopeId","data-v-26b4910e"]]);var Q=D,Y={__name:"App",setup(e){const t=(0,o.KR)("pc"),a=(0,o.KR)(),n=(0,o.KR)();return(e,o)=>((0,r.uX)(),(0,r.CE)("div",null,[(0,r.bF)(h,{type:t.value,onTypeChange:o[0]||(o[0]=e=>t.value=e)},null,8,["type"]),(0,r.bF)(E,{type:t.value,selCategory:a.value,selCategorySub:n.value,onCategoryChange:o[1]||(o[1]=e=>a.value=e),onCategorySubChange:o[2]||(o[2]=e=>n.value=e)},null,8,["type","selCategory","selCategorySub"]),a.value?((0,r.uX)(),(0,r.CE)(r.FK,{key:0},["phone"===t.value?((0,r.uX)(),(0,r.Wv)(J,{key:0,selCategory:a.value,selCategorySub:n.value},null,8,["selCategory","selCategorySub"])):((0,r.uX)(),(0,r.Wv)(Q,{key:1,selCategory:a.value,selCategorySub:n.value},null,8,["selCategory","selCategorySub"]))],64)):(0,r.Q3)("",!0)]))}};const Z=Y;var ee=Z;(0,n.Ef)(ee).mount("#app")},2795:function(e,t,a){e.exports=a.p+"img/pc.72fcb79c.svg"},3204:function(e,t,a){e.exports=a.p+"img/dark.bdb505db.svg"},3423:function(e,t,a){e.exports=a.p+"img/phone-light.669bd1d4.svg"},6580:function(e,t,a){e.exports=a.p+"img/phone.3d20ee49.svg"},9276:function(e,t,a){e.exports=a.p+"img/light.9b3b8ace.svg"}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(t,n,r,o){if(!n){var l=1/0;for(s=0;s<e.length;s++){n=e[s][0],r=e[s][1],o=e[s][2];for(var u=!0,i=0;i<n.length;i++)(!1&o||l>=o)&&Object.keys(a.O).every((function(e){return a.O[e](n[i])}))?n.splice(i--,1):(u=!1,o<l&&(l=o));if(u){e.splice(s--,1);var c=r();void 0!==c&&(t=c)}}return t}o=o||0;for(var s=e.length;s>0&&e[s-1][2]>o;s--)e[s]=e[s-1];e[s]=[n,r,o]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.p="/"}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,o,l=n[0],u=n[1],i=n[2],c=0;if(l.some((function(t){return 0!==e[t]}))){for(r in u)a.o(u,r)&&(a.m[r]=u[r]);if(i)var s=i(a)}for(t&&t(n);c<l.length;c++)o=l[c],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(s)},n=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[504],(function(){return a(2191)}));n=a.O(n)})();
//# sourceMappingURL=app.b7784ae8.js.map